.drinks-page
  .container

      .header-section
        hgroup
          h2 All Drinks
          p Explore drinks from your inventory and TheCocktailDB

      .error-banner(v-if="error")
        .error-icon âš ï¸
        .error-content
          h3 Failed to Load Data
          p {{ error }}
          p.error-help Make sure you can access https://hirelemon.com/bar/api and check your browser's ad blocker settings.

      .search-bar
        form(@submit.prevent="handleSearch")
          input(
            v-model="searchTerm"
            type="text"
            placeholder="Search for cocktails..."
            @keyup.enter="handleSearch"
          )
          button.search-btn(type="submit") Search

      section.filters
        .filter-buttons
          button.filter-btn(:class="{ active: filter === 'all' }" @click="filter = 'all'") All ({{ allDrinksCount }})
          button.filter-btn(:class="{ active: filter === 'cocktails' }" @click="filter = 'cocktails'") Cocktails ({{ filteredDrinks.length }})
          button.filter-btn(:class="{ active: filter === 'beerWine' }" @click="filter = 'beerWine'") Beer & Wine ({{ getInStockBeerWine.length }})
          button.filter-btn(:class="{ active: filter === 'fingers' }" @click="filter = 'fingers'") Fingers ({{ availableFingerBottles.length }})
          button.filter-btn(:class="{ active: filter === 'available' }" @click="filter = 'available'") Available ({{ filteredAvailableDrinks.length + availableFingerBottles.length + getInStockBeerWine.length }})
          button.filter-btn(:class="{ active: filter === 'alcoholic' }" @click="filter = 'alcoholic'") Alcoholic ({{ filteredAlcoholicDrinks.length + + availableFingerBottles.length }})
          button.filter-btn(:class="{ active: filter === 'nonAlcoholic' }" @click="filter = 'nonAlcoholic'") Non-Alcoholic ({{ filteredNonAlcoholicDrinks.length }})

        // Tag filter selector (moved below filter buttons)
        .tag-filters(v-if="tagOptions.length > 0")
          label Tag Filter:
          TagFilterSelect(v-model="tagFilter" :tags="tagOptions" :totalCount="filteredDrinks.length")

      .loading(v-if="loading") Loading drinks...
      .error(v-if="error") {{ error }}

      .drinks-grid(v-if="filteredDrinks.length > 0 && (filter !== 'beerWine' && filter !== 'fingers') ")
        DrinkCard(
          v-for="drink in filteredDrinks"
          :key="drink.id"
          :drink="drink"
          :show-availability="true"
          :external="drink.external"
        )
      .hydrate-btn-container(v-if="filteredDrinks.length > 0 && (filter !== 'beerWine' && filter !== 'fingers') ")
        button.hydrate-btn(@click="hydrateMoreCocktailDB") Get More Random Cocktails!

      // Beer & Wine Section
      .beer-wine-section(v-if="getInStockBeerWine.length > 0 && filter === 'beerWine' || filter === 'all' || filter === 'available' || filter === 'alcoholic' ")
        h3.section-title ðŸºðŸ· Beer & Wine Available
        .beer-wine-grid
          .beer-wine-card(v-for="item in getInStockBeerWine" :key="item.id")
            .beer-wine-icon {{ item.type === 'beer' ? 'ðŸº' : 'ðŸ·' }}
            .beer-wine-info
              .beer-wine-name {{ item.name }}
              .beer-wine-type(v-if="item.subtype") {{ item.subtype }}
      
      // Finger bottles section
      .fingers-section(v-if="availableFingerBottles.length > 0 && (filter === 'all' || filter === 'available' || filter === 'alcoholic' || filter === 'fingers') ")
        h3.section-title ðŸ¥ƒ Special Fingers Available
        .fingers-grid
          .finger-card(v-for="bottle in availableFingerBottles" :key="bottle.id")
            NuxtLink.finger-link(:to="`/bottles/${bottle.id}`")
              .finger-image(v-if="bottle.image")
                img(:src="bottle.image" :alt="bottle.name")
              .finger-image.placeholder(v-else)
                span ðŸ¥ƒ
              .finger-info
                .finger-name {{ bottle.name }}
                .finger-options
                  NuxtLink.option-link(:to="`/drinks/finger-${bottle.id}-straight`") Straight Up
                  span  | 
                  NuxtLink.option-link(:to="`/drinks/finger-${bottle.id}-rocks`") On The Rocks